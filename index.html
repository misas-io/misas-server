<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>  | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='max-width-4 mx-auto'>
    <div class='clearfix md-mxn2'>
      <div class='fixed xs-hide fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'></h3>
          <div class='mb1'><code></code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#apimongogrpschema'
                  class="">
                  api/mongo/grp/schema
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#apimongogrpmodel'
                  class="">
                  api/mongo/grp/model
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#creategrp'
                  class="">
                  createGrp
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addgrptimestamps'
                  class="">
                  addGrpTimestamps
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#updategrptimestamps'
                  class="">
                  updateGrpTimestamps
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getnextgrpdatesfromuntil'
                  class="">
                  getNextGrpDatesFromUntil
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getgrpcollection'
                  class="">
                  getGrpCollection
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#searchgrps'
                  class="">
                  searchGrps
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='apimongogrpschema'>
      api/mongo/grp/schema
    </h3>
    
    
  </div>
  

  <p>This schema defines the GraphQL structure used to return
GRP information. GRP defines a God Related Place, and it stores
location information, schedules, names, and contributors.</p>


  <div class='pre p1 fill-light mt0'>api/mongo/grp/schema</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='apimongogrpmodel'>
      api/mongo/grp/model
    </h3>
    
    
  </div>
  

  <p>This module defines the main methods to create, validate, get different
information related to a GRP, etc. Most if not all DB operations for GRPs
should go thru method defined here.</p>


  <div class='pre p1 fill-light mt0'>api/mongo/grp/model</div>
  
  

  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='creategrp'>
      createGrp
    </h3>
    
    
  </div>
  

  <p>This method adds timestamps updated/created to the input GRP, then
it validated the input GRP and if nothing is incorrect it is stored
in mongo.</p>


  <div class='pre p1 fill-light mt0'>createGrp(newGrp: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newGrp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    the object to be validated and stored

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addgrptimestamps'>
      addGrpTimestamps
    </h3>
    
    
  </div>
  

  <p>This method get the current time, and adds that time as both the created
and updated properties.</p>


  <div class='pre p1 fill-light mt0'>addGrpTimestamps(grp: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    a GRP object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='updategrptimestamps'>
      updateGrpTimestamps
    </h3>
    
    
  </div>
  

  <p>This method changes the updated field of a GRP to the current time</p>


  <div class='pre p1 fill-light mt0'>updateGrpTimestamps(grp: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    a GRP object

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getnextgrpdatesfromuntil'>
      getNextGrpDatesFromUntil
    </h3>
    
    
  </div>
  

  <p>This method generates count number of dates from to until. The dates are
generated based on the recurrences stored within the GRP schedules. All of
these are retrieved and based on that all of the schedules are generated.</p>


  <div class='pre p1 fill-light mt0'>getNextGrpDatesFromUntil(grp: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, count: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>, from: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, end: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, until: any): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    a GRP object

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>count</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>)</code>
	    an integer specifying the max number of dates that can be generated

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>from</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    the starting date from which to generate dates.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>end</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    the ending date until which to generate dates.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>until</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>></code>:
        the calculated dates

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getgrpcollection'>
      getGrpCollection
    </h3>
    
    
  </div>
  

  <p>This method returns a promise to a <a href="http://mongodb.github.io/node-mongodb-native/2.2/api/Collection.html">Mongo Collection</a>
of GRP. The method will make sure to connect to the DB before returning the collection.</p>


  <div class='pre p1 fill-light mt0'>getGrpCollection(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Collection></div>
  
  

  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Collection></code>:
        a Mongo DB Collection

      
    
  

  

  

  

  

  
</section>

          
        
          
            <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='searchgrps'>
      searchGrps
    </h3>
    
    
  </div>
  

  <p>This is a resolver function as defined in <a href="http://dev.apollodata.com/tools/graphql-tools/resolvers.html">Apollo's resolver docs</a>
it will return a promise which should return an array of GRPs if the function succesfully
queried the DB.</p>


  <div class='pre p1 fill-light mt0'>searchGrps(_: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>, parms: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>></div>
  
  

  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>_</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>)</code>
	    takes nothing as the first input this is to ignore context

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>parms</span> <code class='quiet'>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    parameters to the searchGrps query function

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.name</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>?</code>
                  </td>
                  <td class='break-word'><span>the name of the GRP where order and spaces don't matter
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.polygon</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?</code>
                  </td>
                  <td class='break-word'><span>A polygon represention using coordinates
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.point</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Float>?</code>
                  </td>
                  <td class='break-word'><span>An array 
[
lat,lon
]
 specifying the coordinates of a point
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.sortBy</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>?</code>
                  </td>
                  <td class='break-word'><span>A String specifying the order by which to sort eg. TIME, BEST, etc.
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.city</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>?</code>
                  </td>
                  <td class='break-word'><span>A String specifying the name of a city (case, accent's, etc don't matter)
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.state</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>?</code>
                  </td>
                  <td class='break-word'><span>A String specifying the name of a state (case, accent's, etc don't matter)
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.first</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>?</code>
                  </td>
                  <td class='break-word'><span>A Number for the 'first' number of GRPs to return
</span></td>
                </tr>
              
                <tr>
                  <td class='break-word'><span class='code bold'>parms.after</span> <code class='quiet'><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>?</code>
                  </td>
                  <td class='break-word'><span>An opaque ID String specifying the offset from the 0's result of the query
</span></td>
                </tr>
              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>>></code>:
        the GRPs from search

      
    
  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
